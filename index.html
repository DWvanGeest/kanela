<html><head><title>Kanela</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="kamon-io" /><meta name="description" content="Kanela: The Kamon Instrumentation Agent" /><meta name="og:image" content="/kanela/img/poster.png" /><meta name="og:title" content="Kanela" /><meta name="og:site_name" content="Kanela" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="Kanela: The Kamon Instrumentation Agent" /><link rel="icon" type="image/png" href="/kanela/img/favicon.png" /><meta name="twitter:title" content="Kanela" /><meta name="twitter:image" content="img/poster.png" /><meta name="twitter:description" content="Kanela: The Kamon Instrumentation Agent" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/kanela/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/kanela/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/kanela/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/kanela/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/kanela/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/kanela/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/kanela/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/kanela/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/kanela/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/kanela/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/kanela/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/kanela/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/kanela/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/kanela/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/kanela/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/kanela/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/kanela/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/kanela/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/kanela/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/kanela/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/kanela/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/kanela/css/style.css" /><link rel="stylesheet" href="/kanela/css/palette.css" /><link rel="stylesheet" href="/kanela/css/codemirror.css" /></head><body><header id="site-header"><div class="navbar-wrapper"><div class="container"><div class="row"><div class="col-xs-6"><a href="/kanela/" class="brand"><div class="icon-wrapper"><span>Kanela</span></div></a></div><div class="col-xs-6"><nav class="text-right"><ul class=""><li><a href="https://github.com/kamon-io/kamon-agent"><i class="fa fa-github"></i><span class="hidden-xs">GitHub</span></a></li></ul></nav></div></div></div></div><div class="jumbotron"><div class="container"><h1 class="text-center">Kanela: The Kamon Instrumentation Agent</h1><h2></h2><p class="text-center"><a href="https://github.com/kamon-io/kamon-agent" class="btn btn-outline-inverse">View on GitHub</a></p></div></div><div><ul class="horizontalNav">         <li><a class="" href="/kanela/interceptors.html">Interceptors</a></li>  <li><a class="" href="/kanela/mixins.html">Mixins</a></li>  <li><a class="" href="/kanela/bridges.html">Bridges</a></li>  <li><a class="" href="/kanela/changelog.html">Changelog</a></li>  <li><a class="" href="/kanela/license.html">License</a></li> </ul></div></header><main id="site-main"><section class="use"><div class="container"><div id="content"><h1 id="kanela-the-kamon-instrumentation-agent">Kanela: The Kamon Instrumentation Agent</h1>
<p><a href="https://gitter.im/kamon-io/Kamon?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Gitter" /></a>
<img src="https://travis-ci.org/kamon-io/kanela.svg?branch=master" alt="Build Status" />
<a href="https://maven-badges.herokuapp.com/maven-central/io.kamon/kanela-agent"><img src="https://maven-badges.herokuapp.com/maven-central/io.kamon/kanela-agent/badge.svg" alt="Maven Central" /></a>
<a href="https://bintray.com/kamon-io/releases/kanela/_latestVersion"><img src="https://api.bintray.com/packages/kamon-io/releases/kanela/images/download.svg" alt="Download" /> </a></p>

<p><strong>Kanela</strong> is a Java Agent written in Java 8+ and powered by <a href="http://bytebuddy.net/#/">ByteBuddy</a> with some additionally <a href="http://asm.ow2.org/">ASM</a> features to provide a simple way to instrument applications running on the <code class="highlighter-rouge">JVM</code> and allow introduce <a href="http://kamon.io">Kamon</a> features such as context propagation and metrics.</p>

<h2 id="getting-started">Getting Started</h2>

<p>The Instrumentation API is written in <em>Java</em> but there are <a href="https://github.com/kamon-io/kamon-agent-extensions">extensions modules</a> to define transformations in idiomatic manner for <em>Scala</em> and <em>Kotlin</em>.</p>

<h3 id="modules">Modules</h3>

<p>The modules currently available are shown below:</p>

<h4 id="web-frameworks">Web Frameworks</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Server</th>
      <th style="text-align: center">Status</th>
      <th style="text-align: center">Versions</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-servlet">Java Servlet</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">2.3+, 3.0+</td>
      <td>brings traces and metrics to your servlet based applications.</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-play">Play Framework</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">2.4-2.6</td>
      <td>with client and server side tracing.</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-akka-http">Akka HTTP</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">10.0+</td>
      <td>with client and service side tracing and HTTP server metrics.</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-spring">Spring Web</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">4.0+</td>
      <td>brings traces and metrics to your spring based applications.</td>
    </tr>
  </tbody>
</table>

<h4 id="database-driversframeworks">Database Drivers/Frameworks</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Driver</th>
      <th style="text-align: center">Status</th>
      <th style="text-align: center">Versions</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-jdbc">JDBC</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">All</td>
      <td>gives you metrics and tracing for JDBC statements execution and Hikari pool metrics.</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-casssandra">Cassandra Driver</a></td>
      <td style="text-align: center">experimental</td>
      <td style="text-align: center">3.2+</td>
      <td>gives you metrics, context propagation and tracing for C* statements.</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-mongo">Mongo</a></td>
      <td style="text-align: center">experimental</td>
      <td style="text-align: center">3.2+</td>
      <td>(<strong>coming soon</strong>)</td>
    </tr>
  </tbody>
</table>

<h4 id="networking-frameworks">Networking Frameworks</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Framework</th>
      <th style="text-align: center">Status</th>
      <th style="text-align: center">Versions</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-netty">Netty</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">4.0+</td>
      <td>with client and service side tracing and HTTP server metrics.</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-akka">Akka</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">2.3-2.5</td>
      <td>for actor metrics and tracing inside a single JVM.</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-akka-remote">Akka Remote</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">2.3-2.5</td>
      <td>has now serialization and remoting metrics and is able to trace messages across remote actor systems. (<strong>coming soon</strong>)</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-spring">Spring Web</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">4.0+</td>
      <td>rings traces and metrics to your spring based applications.</td>
    </tr>
  </tbody>
</table>

<h4 id="others">Others</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Framework</th>
      <th style="text-align: center">Status</th>
      <th style="text-align: center">Versions</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-futures">Futures</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">2.10-2.12</td>
      <td>bring automatic context propagation for Scala, Finagle and Scalaz futures.</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-executors">Executors</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">All</td>
      <td>context propagation and collects executor service metrics.</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-logback">Logback</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">2.3-2.5</td>
      <td>comes with utilities for adding trace IDs to your logs and instrumentation to keep context when using async appenders.</td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://github.com/kamon-io/kamon-annotation">Annotation</a></td>
      <td style="text-align: center">stable</td>
      <td style="text-align: center">2.10-2.12</td>
      <td>provides a set of annotations that allow you to easily integrate Kamon’s metrics and tracing facilities with your application.</td>
    </tr>
  </tbody>
</table>

<p>Don’t see your preferred framework? We’re continually adding additional modules, check with our team to see if we can help or make your custom instrumentation with the <strong>Kanela</strong>
instrumentation API.</p>

<h3 id="flavors">Flavors</h3>
<p><strong>Kanela</strong> has 2 flavors, one is just the plain agent and gives us the option to add only the modules we need and 
the other is for those who want <strong>APM-like experience</strong> from the very beginning that contains all the modules embedded within the agent.</p>

<h4 id="plain">Plain</h4>
<p>First, download the <strong>Kanela</strong> plain agent:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>wget -O kanela-agent.jar 'https://search.maven.org/remote_content?g=io.kamon&amp;a=kanela-agent&amp;v=LATEST'
</code></pre>
</div>

<p>Then, simply add the instrumentation modules that you want in your <code class="highlighter-rouge">build.sbt</code>, <code class="highlighter-rouge">pom.xml</code> or <code class="highlighter-rouge">gradle.build</code> file:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>libraryDependencies += "io.kamon" %% "kamon-jdbc" % "1.0.0"
</code></pre>
</div>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>io.kamon<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>kamon-jdbc_2.12<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.0.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>compile group: 'io.kamon', name: 'kamon-jdbc_2.12', version: "1.0.0"
</code></pre>
</div>

<p>Finally, add the following JVM argument when starting your application in your IDE, 
your <code class="highlighter-rouge">Maven</code>, <code class="highlighter-rouge">SBT</code> or <code class="highlighter-rouge">Gradle</code> application script, or your <code class="highlighter-rouge">java -jar</code> command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-javaagent:/path/to/the/kanela-agent.jar
</code></pre>
</div>

<p><img src="microsite/img/kanela-plain-jdbc.png" alt="kanela-plain-jdbc" /></p>

<p>There it is! Our application is instrumented with the <strong>Kanela</strong> agent.</p>

<h4 id="bundle">Bundle</h4>
<p>First, download the <strong>Kanela</strong> bundle agent that includes all the <strong>Kamon</strong> instrumentation modules embedded within the agent:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>wget -O kanela-agent.jar 'https://search.maven.org/remote_content?g=io.kamon&amp;a=kanela-bundle-agent&amp;v=LATEST'
</code></pre>
</div>

<p>Then, add the following JVM argument when starting your application in your IDE, 
your <code class="highlighter-rouge">Maven</code>, <code class="highlighter-rouge">SBT</code> or <code class="highlighter-rouge">Gradle</code> application script, or your <code class="highlighter-rouge">java -jar</code> command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-javaagent:/path/to/the/kanela-bundle-agent.jar
</code></pre>
</div>

<p>Finally, Simply Enjoy!</p>

<h2 id="license">License</h2>

<p>This software is licensed under the Apache 2 license, quoted below.</p>

<p>Copyright © 2013-2018 the kamon project <a href="http://kamon.io">http://kamon.io</a></p>

<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not
use this file except in compliance with the License. You may obtain a copy of
the License at</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[http://www.apache.org/licenses/LICENSE-2.0]
</code></pre>
</div>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations under
the License.</p>

</div></div></section><section class="technologies"><div class="container"><div class="row"></div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><div class="col-xs-6"><p>Kanela is designed and developed by <a href="" target="_blank">kamon-io</a></p></div><div class="col-xs-6"><p class="text-right"><a href="https://github.com/kamon-io/kamon-agent"><span class="fa fa-github"></span>View on GitHub</a></p></div></div><div class="row"><div class="col-xs-6"><p>Website built with <a href="https://47deg.github.io/sbt-microsites/" target="_blank">Sbt-microsites</a> - © 2016 <a href="https://www.47deg.com/" target="_blank">47 Degrees</a></p></div></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/kanela/highlight/highlight.pack.js"></script><script>hljs.configure({
languages:['scala','java','bash']
});
hljs.initHighlighting();
             </script><script>((window.gitter = {}).chat = {}).options = {
room: 'kamon-io/Kamon'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script></body></html>